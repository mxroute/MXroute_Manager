define(["angular","jquery","app/services/themesService","cjt/decorators/growlDecorator","jquery-chosen","angular-chosen"],function(angular){var app=angular.module("App");var controller=app.controller("themesController",["$scope","$window","themesService","growl","$timeout",function($scope,$window,themesService,growl,$timeout){$scope.isRTL=PAGE.isRTL||false;$scope.updated=true;$timeout(function(){themesService.getAvailableThemes().then(function(response){if(response&&response.length>0){$scope.themes=response;if(PAGE.currentTheme){$scope.selectedTheme=PAGE.currentTheme}}},function(error){growl.error(error)}).finally(function(){$scope.updated=true})});$scope.themeChanged=function(){if($scope.selectedTheme!==""){themesService.setTheme($scope.selectedTheme);if(PAGE&&PAGE.securityToken&&PAGE.userName){$window.location.href=PAGE.securityToken+"/xfercpanel/"+PAGE.userName+"?theme="+$scope.selectedTheme}}}}]);return controller});