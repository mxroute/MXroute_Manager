define(["angular","cjt/io/api","cjt/io/uapi-request","cjt/io/uapi"],function(angular,API,APIREQUEST,APIDRIVER){var app=angular.module("App");app.factory("themesService",["$q",function($q){return{getAvailableThemes:function(){var deferred=$q.defer();var apiCall=new APIREQUEST.Class;apiCall.initialize("Themes","list",{show_mail_themes:0});API.promise(apiCall.getRunArguments()).done(function(response){response=response.parsedResponse;if(response.status){deferred.resolve(response.data)}else{deferred.reject(response.error)}});return deferred.promise},setTheme:function(themeName){var deferred=$q.defer();var apiCall=new APIREQUEST.Class;apiCall.initialize("Themes","update",{theme:themeName});API.promise(apiCall.getRunArguments()).done(function(response){response=response.parsedResponse;if(response.status){deferred.resolve(response.data)}else{deferred.reject(response.error)}});return deferred.promise}}}])});