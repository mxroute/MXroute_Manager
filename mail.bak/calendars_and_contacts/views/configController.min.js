define(["angular","cjt/util/locale","uiBootstrap","cjt/filters/wrapFilter"],function(angular,LOCALE){var app=angular.module("App");var controller=app.controller("configController",["$scope",function($scope){var _initializeView=function(){if(app.firstLoad.config&&PAGE.config){app.firstLoad.config=false;$scope.showInfoBlock=false;$scope.config=PAGE.config;$scope.secureResources=_mergeArrays(PAGE.config.ssl.calendars,PAGE.config.ssl.contacts);$scope.resources=_mergeArrays(PAGE.config.no_ssl.calendars,PAGE.config.no_ssl.contacts)}};$scope.toggleInfoBlock=function(){$scope.showInfoBlock=!$scope.showInfoBlock};var _mergeArrays=function(calendars,contacts){calendars=calendars||[];contacts=contacts||[];calendars.forEach(function(calendar){calendar.type=LOCALE.maketext("Calendar")});contacts.forEach(function(addressBook){addressBook.type=LOCALE.maketext("Contacts")});return calendars.concat(contacts)};_initializeView()}]);return controller});