define(["angular","cjt/core","uiBootstrap"],function(angular,CJT){var app=angular.module("Master");var controller=app.controller("applicationListController",["$scope","$window","notificationsService","$timeout",function($scope,$window,notificationsService,$timeout){var _initializeScope=function(){$scope.applicationList=[];if(PAGE.applicationList){$scope.applicationList=PAGE.applicationList}$scope.notificationsExist=false;if(!PAGE.skipNotificationsCheck){$timeout(function(){notificationsService.getCount().then(function(response){$scope.notificationsExist=response>0?true:false;$scope.notificationsCount=response})})}angular.element($window).on("keydown",function(event){var tag=event.target.tagName.toLowerCase();if(tag==="input"||tag==="select"||tag==="textarea"){return}if(event.keyCode===191||event.keyCode===111){event.preventDefault();document.getElementById("txtQuickFind").focus()}})};$scope.openApplication=function($item,$model){var url=$model.url;if(window.event){window.event.stopPropagation()}if(url.search(/^http/i)===-1){if(url.search(/^\//)!==-1){url=CJT.getRootPath()+url}else{url=CJT.buildFullPath(url)}}if($model.target){window.open(url,$model.target)}else{window.open(url,"_self")}};$scope.clearQuickFind=function(event){if(event.keyCode===27){$scope.quickFindSelected=""}};$scope.formatAppName=function(model){if(!model){return""}var t=document.createElement("textarea");t.innerHTML=model.name;return t.value};_initializeScope()}]);return controller});