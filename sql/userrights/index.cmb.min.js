define("app/index",["angular","lodash","cjt/util/locale","cjt/io/uapi-request","cjt/io/uapi","cjt/modules","cjt/directives/formWaiting","cjt/services/alertService","cjt/directives/alert","cjt/directives/alertList","uiBootstrap","cjt/services/APICatcher"],function(e,t,a,r){"use strict";return function(){var c=require(["cjt/bootstrap"],function(c){var s=e.module("App",["cjt2.cpanel","ui.bootstrap"]);s.controller("BaseController",["$rootScope","$scope","APICatcher","alertService",function(c,s,i,o){e.extend(s,{save_privs:function(e){var c,s=document.forms[e.$name];if(s.ALL.checked)c="ALL";else{c="";for(var l=[].slice.call(s.privileges),n=0;n<l.length;n++)l[n].checked&&(c+=","+l[n].value);c=c.replace(/^,/,"")}var u=(new r.Class).initialize("Mysql","set_privileges_on_database",{user:CPANEL.PAGE.username,database:CPANEL.PAGE.dbname,privileges:c});return i.promise(u).then(function(){for(var e=[].slice.call(s.elements),r=0;r<e.length;r++)"checkbox"===e[r].type&&(e[r].defaultChecked=e[r].checked);o.add({type:"success",message:a.maketext("You saved “[_1]”’s privileges on the database “[_2]”.",t.escape(CPANEL.PAGE.username),t.escape(CPANEL.PAGE.dbname)),closeable:!0,replace:!1,autoClose:1e4,group:"userrights"})})}})}]),c("#ng_content","App")});return c}});