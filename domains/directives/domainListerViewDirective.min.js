define(["angular","cjt/core","app/directives/docrootDirective"],function(angular,CJT){"use strict";var module=angular.module("cpanel.domains.domainListerView.directive",["cpanel.domains.docroot.directive"]);module.value("PAGE",PAGE);module.directive("domainListerView",function itemListerItem(){var TEMPLATE_PATH="directives/domainListerViewDirective.ptt";var RELATIVE_PATH="domains/"+TEMPLATE_PATH;return{templateUrl:CJT.config.debug?CJT.buildFullPath(RELATIVE_PATH):TEMPLATE_PATH,restrict:"EA",replace:true,require:"^itemLister",link:function($scope,$element,$attrs,$ctrl){$scope.domains=[];$scope.showConfigColumn=$ctrl.showConfigColumn;$scope.headerItems=$ctrl.getHeaderItems();$scope.updateView=function updateView(viewData){$scope.domains=viewData};$ctrl.registerViewCallback($scope.updateView.bind($scope));$scope.$on("$destroy",function(){$ctrl.deregisterViewCallback($scope.updateView)})},controller:["$scope","ITEM_LISTER_CONSTANTS","DOMAIN_TYPE_CONSTANTS","PAGE",function($scope,ITEM_LISTER_CONSTANTS,DOMAIN_TYPE_CONSTANTS,PAGE){$scope.DOMAIN_TYPE_CONSTANTS=DOMAIN_TYPE_CONSTANTS;$scope.EMAIL_ACCOUNTS_APP_EXISTS=PAGE.EMAIL_ACCOUNTS_APP_EXISTS;$scope.webserverRoleAvailable=PAGE.hasWebServerRole;$scope.getDomains=function getDomains(){return $scope.domains};$scope.actionButtonClicked=function actionButtonClicked(type,domain){$scope.$emit(ITEM_LISTER_CONSTANTS.TABLE_ITEM_BUTTON_EVENT,{actionType:type,item:domain,interactionID:domain.domain})}}]}})});